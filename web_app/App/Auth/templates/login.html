{% extends 'base.html' %}
{% load static %}

{% block title %}Astral Classification System{% endblock title %}

{%block content%}
<div class="container">
  <div class="login-box">
    <div class="row">
      <div class="col">
        <h1>Login</h1>
        <h2>Welcome back! Please enter your credentials to continue.</h2>
        <p>
          Log in to your account to access your content and previous results. Enter your username and password to get
          started!
        </p>
      </div>
      <div class="col">
        <a href="{% url 'homeView' %}" class="login-logo">
          <img src="{% static 'Pics/Logo.svg'%}" class="login-logo">
        </a>
        {%for message in messages%}
        <div class="notification">
          <button class="delete">X</button>
          {{message}}
        </div>
        {%endfor%}

        <form method='post'>
          {% csrf_token %}
          <div class="field">
            <div class="control">
              <input class="input is-medium" name='username' type="text" placeholder="username">
            </div>
          </div>

          <div class="field">
            <div class="control">
              <input class="input is-medium" name='password' type="password" placeholder="password">
            </div>
          </div>

          <input type="submit" value='Login' class="button" />
        </form> <br>
        <p id="subtext">Don't have an <a href="{% url 'registerView' %}">account.</a></p>
      </div>
    </div>
  </div>
</div>
<script>
  document.addEventListener('DOMContentLoaded', () => {
    (document.querySelectorAll('.notification .delete') || []).forEach(($delete) => {
      const $notification = $delete.parentNode;

      $delete.addEventListener('click', () => {
        $notification.parentNode.removeChild($notification);
      });
    });
  });
</script>
{% endblock %}